{"ast":null,"code":"\"use client\";\n\nconst videoIdRE = /(?:youtu\\.be|youtube|youtube\\.com|youtube-nocookie\\.com)\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=|)((?:\\w|-){11})/;\nconst posterCache = /* @__PURE__ */new Map();\nconst pendingFetch = /* @__PURE__ */new Map();\nfunction resolveYouTubeVideoId(src) {\n  return src.match(videoIdRE)?.[1];\n}\nasync function findYouTubePoster(videoId, abort) {\n  if (posterCache.has(videoId)) return posterCache.get(videoId);\n  if (pendingFetch.has(videoId)) return pendingFetch.get(videoId);\n  const pending = new Promise(async resolve => {\n    const sizes = [\"maxresdefault\", \"sddefault\", \"hqdefault\"];\n    for (const size of sizes) {\n      for (const webp of [true, false]) {\n        const url = resolveYouTubePosterURL(videoId, size, webp),\n          response = await fetch(url, {\n            mode: \"no-cors\",\n            signal: abort.signal\n          });\n        if (response.status < 400) {\n          posterCache.set(videoId, url);\n          resolve(url);\n          return;\n        }\n      }\n    }\n  }).catch(() => \"\").finally(() => pendingFetch.delete(videoId));\n  pendingFetch.set(videoId, pending);\n  return pending;\n}\nfunction resolveYouTubePosterURL(videoId, size, webp) {\n  const type = webp ? \"webp\" : \"jpg\";\n  return `https://i.ytimg.com/${webp ? \"vi_webp\" : \"vi\"}/${videoId}/${size}.${type}`;\n}\nexport { findYouTubePoster, resolveYouTubeVideoId };","map":{"version":3,"names":["videoIdRE","posterCache","Map","pendingFetch","resolveYouTubeVideoId","src","match","findYouTubePoster","videoId","abort","has","get","pending","Promise","resolve","sizes","size","webp","url","resolveYouTubePosterURL","response","fetch","mode","signal","status","set","catch","finally","delete","type"],"sources":["/Users/wanghley/Workspace/Projects/wanghley.com/node_modules/@vidstack/react/dev/chunks/vidstack-Zc3I7oOd.js"],"sourcesContent":["\"use client\"\n\nconst videoIdRE = /(?:youtu\\.be|youtube|youtube\\.com|youtube-nocookie\\.com)\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=|)((?:\\w|-){11})/;\nconst posterCache = /* @__PURE__ */ new Map();\nconst pendingFetch = /* @__PURE__ */ new Map();\nfunction resolveYouTubeVideoId(src) {\n  return src.match(videoIdRE)?.[1];\n}\nasync function findYouTubePoster(videoId, abort) {\n  if (posterCache.has(videoId)) return posterCache.get(videoId);\n  if (pendingFetch.has(videoId)) return pendingFetch.get(videoId);\n  const pending = new Promise(async (resolve) => {\n    const sizes = [\"maxresdefault\", \"sddefault\", \"hqdefault\"];\n    for (const size of sizes) {\n      for (const webp of [true, false]) {\n        const url = resolveYouTubePosterURL(videoId, size, webp), response = await fetch(url, {\n          mode: \"no-cors\",\n          signal: abort.signal\n        });\n        if (response.status < 400) {\n          posterCache.set(videoId, url);\n          resolve(url);\n          return;\n        }\n      }\n    }\n  }).catch(() => \"\").finally(() => pendingFetch.delete(videoId));\n  pendingFetch.set(videoId, pending);\n  return pending;\n}\nfunction resolveYouTubePosterURL(videoId, size, webp) {\n  const type = webp ? \"webp\" : \"jpg\";\n  return `https://i.ytimg.com/${webp ? \"vi_webp\" : \"vi\"}/${videoId}/${size}.${type}`;\n}\n\nexport { findYouTubePoster, resolveYouTubeVideoId };\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,SAAS,GAAG,iHAAiH;AACnI,MAAMC,WAAW,GAAG,eAAgB,IAAIC,GAAG,CAAC,CAAC;AAC7C,MAAMC,YAAY,GAAG,eAAgB,IAAID,GAAG,CAAC,CAAC;AAC9C,SAASE,qBAAqBA,CAACC,GAAG,EAAE;EAClC,OAAOA,GAAG,CAACC,KAAK,CAACN,SAAS,CAAC,GAAG,CAAC,CAAC;AAClC;AACA,eAAeO,iBAAiBA,CAACC,OAAO,EAAEC,KAAK,EAAE;EAC/C,IAAIR,WAAW,CAACS,GAAG,CAACF,OAAO,CAAC,EAAE,OAAOP,WAAW,CAACU,GAAG,CAACH,OAAO,CAAC;EAC7D,IAAIL,YAAY,CAACO,GAAG,CAACF,OAAO,CAAC,EAAE,OAAOL,YAAY,CAACQ,GAAG,CAACH,OAAO,CAAC;EAC/D,MAAMI,OAAO,GAAG,IAAIC,OAAO,CAAC,MAAOC,OAAO,IAAK;IAC7C,MAAMC,KAAK,GAAG,CAAC,eAAe,EAAE,WAAW,EAAE,WAAW,CAAC;IACzD,KAAK,MAAMC,IAAI,IAAID,KAAK,EAAE;MACxB,KAAK,MAAME,IAAI,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE;QAChC,MAAMC,GAAG,GAAGC,uBAAuB,CAACX,OAAO,EAAEQ,IAAI,EAAEC,IAAI,CAAC;UAAEG,QAAQ,GAAG,MAAMC,KAAK,CAACH,GAAG,EAAE;YACpFI,IAAI,EAAE,SAAS;YACfC,MAAM,EAAEd,KAAK,CAACc;UAChB,CAAC,CAAC;QACF,IAAIH,QAAQ,CAACI,MAAM,GAAG,GAAG,EAAE;UACzBvB,WAAW,CAACwB,GAAG,CAACjB,OAAO,EAAEU,GAAG,CAAC;UAC7BJ,OAAO,CAACI,GAAG,CAAC;UACZ;QACF;MACF;IACF;EACF,CAAC,CAAC,CAACQ,KAAK,CAAC,MAAM,EAAE,CAAC,CAACC,OAAO,CAAC,MAAMxB,YAAY,CAACyB,MAAM,CAACpB,OAAO,CAAC,CAAC;EAC9DL,YAAY,CAACsB,GAAG,CAACjB,OAAO,EAAEI,OAAO,CAAC;EAClC,OAAOA,OAAO;AAChB;AACA,SAASO,uBAAuBA,CAACX,OAAO,EAAEQ,IAAI,EAAEC,IAAI,EAAE;EACpD,MAAMY,IAAI,GAAGZ,IAAI,GAAG,MAAM,GAAG,KAAK;EAClC,OAAO,uBAAuBA,IAAI,GAAG,SAAS,GAAG,IAAI,IAAIT,OAAO,IAAIQ,IAAI,IAAIa,IAAI,EAAE;AACpF;AAEA,SAAStB,iBAAiB,EAAEH,qBAAqB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}