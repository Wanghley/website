{"ast":null,"code":"\"use client\";\n\nimport { createScope, signal, effect, isString, deferredPromise, isObject, isNumber, isBoolean } from './vidstack-CH225ns1.js';\nimport { preconnect, TimeRange } from './vidstack-C-WrcxmD.js';\nimport { EmbedProvider } from './vidstack-CFWvJYI8.js';\nimport { resolveYouTubeVideoId } from './vidstack-Zc3I7oOd.js';\nimport 'react';\nimport '@floating-ui/dom';\nconst YouTubePlayerState = {\n  Unstarted: -1,\n  Ended: 0,\n  Playing: 1,\n  Paused: 2,\n  Buffering: 3,\n  Cued: 5\n};\nclass YouTubeProvider extends EmbedProvider {\n  $$PROVIDER_TYPE = \"YOUTUBE\";\n  scope = createScope();\n  #ctx;\n  #videoId = signal(\"\");\n  #state = -1;\n  #currentSrc = null;\n  #seekingTimer = -1;\n  #invalidPlay = false;\n  #promises = /* @__PURE__ */new Map();\n  constructor(iframe, ctx) {\n    super(iframe);\n    this.#ctx = ctx;\n  }\n  /**\n   * Sets the player's interface language. The parameter value is an ISO 639-1 two-letter\n   * language code or a fully specified locale. For example, fr and fr-ca are both valid values.\n   * Other language input codes, such as IETF language tags (BCP 47) might also be handled properly.\n   *\n   * The interface language is used for tooltips in the player and also affects the default caption\n   * track. Note that YouTube might select a different caption track language for a particular\n   * user based on the user's individual language preferences and the availability of caption tracks.\n   *\n   * @defaultValue 'en'\n   */\n  language = \"en\";\n  color = \"red\";\n  /**\n   * Whether cookies should be enabled on the embed. This is turned off by default to be\n   * GDPR-compliant.\n   *\n   * @defaultValue `false`\n   */\n  cookies = false;\n  get currentSrc() {\n    return this.#currentSrc;\n  }\n  get type() {\n    return \"youtube\";\n  }\n  get videoId() {\n    return this.#videoId();\n  }\n  preconnect() {\n    preconnect(this.getOrigin());\n  }\n  setup() {\n    super.setup();\n    effect(this.#watchVideoId.bind(this));\n    this.#ctx.notify(\"provider-setup\", this);\n  }\n  destroy() {\n    this.#reset();\n    const message = \"provider destroyed\";\n    for (const promises of this.#promises.values()) {\n      for (const {\n        reject\n      } of promises) reject(message);\n    }\n    this.#promises.clear();\n  }\n  async play() {\n    return this.#remote(\"playVideo\");\n  }\n  #playFail(message) {\n    this.#getPromise(\"playVideo\")?.reject(message);\n  }\n  async pause() {\n    return this.#remote(\"pauseVideo\");\n  }\n  #pauseFail(message) {\n    this.#getPromise(\"pauseVideo\")?.reject(message);\n  }\n  setMuted(muted) {\n    if (muted) this.#remote(\"mute\");else this.#remote(\"unMute\");\n  }\n  setCurrentTime(time) {\n    this.#remote(\"seekTo\", time);\n    this.#ctx.notify(\"seeking\", time);\n  }\n  setVolume(volume) {\n    this.#remote(\"setVolume\", volume * 100);\n  }\n  setPlaybackRate(rate) {\n    this.#remote(\"setPlaybackRate\", rate);\n  }\n  async loadSource(src) {\n    if (!isString(src.src)) {\n      this.#currentSrc = null;\n      this.#videoId.set(\"\");\n      return;\n    }\n    const videoId = resolveYouTubeVideoId(src.src);\n    this.#videoId.set(videoId ?? \"\");\n    this.#currentSrc = src;\n  }\n  getOrigin() {\n    return !this.cookies ? \"https://www.youtube-nocookie.com\" : \"https://www.youtube.com\";\n  }\n  #watchVideoId() {\n    this.#reset();\n    const videoId = this.#videoId();\n    if (!videoId) {\n      this.src.set(\"\");\n      return;\n    }\n    this.src.set(`${this.getOrigin()}/embed/${videoId}`);\n    this.#ctx.notify(\"load-start\");\n  }\n  buildParams() {\n    const {\n        keyDisabled\n      } = this.#ctx.$props,\n      {\n        muted,\n        playsInline,\n        nativeControls\n      } = this.#ctx.$state,\n      showControls = nativeControls();\n    return {\n      autoplay: 0,\n      cc_lang_pref: this.language,\n      cc_load_policy: showControls ? 1 : void 0,\n      color: this.color,\n      controls: showControls ? 1 : 0,\n      disablekb: !showControls || keyDisabled() ? 1 : 0,\n      enablejsapi: 1,\n      fs: 1,\n      hl: this.language,\n      iv_load_policy: showControls ? 1 : 3,\n      mute: muted() ? 1 : 0,\n      playsinline: playsInline() ? 1 : 0\n    };\n  }\n  #remote(command, arg) {\n    let promise = deferredPromise(),\n      promises = this.#promises.get(command);\n    if (!promises) this.#promises.set(command, promises = []);\n    promises.push(promise);\n    this.postMessage({\n      event: \"command\",\n      func: command,\n      args: arg ? [arg] : void 0\n    });\n    return promise.promise;\n  }\n  onLoad() {\n    window.setTimeout(() => this.postMessage({\n      event: \"listening\"\n    }), 100);\n  }\n  #onReady(trigger) {\n    this.#ctx.notify(\"loaded-metadata\");\n    this.#ctx.notify(\"loaded-data\");\n    this.#ctx.delegate.ready(void 0, trigger);\n  }\n  #onPause(trigger) {\n    this.#getPromise(\"pauseVideo\")?.resolve();\n    this.#ctx.notify(\"pause\", void 0, trigger);\n  }\n  #onTimeUpdate(time, trigger) {\n    const {\n        duration,\n        realCurrentTime\n      } = this.#ctx.$state,\n      hasEnded = this.#state === YouTubePlayerState.Ended,\n      boundTime = hasEnded ? duration() : time;\n    this.#ctx.notify(\"time-change\", boundTime, trigger);\n    if (!hasEnded && Math.abs(boundTime - realCurrentTime()) > 1) {\n      this.#ctx.notify(\"seeking\", boundTime, trigger);\n    }\n  }\n  #onProgress(buffered, seekable, trigger) {\n    const detail = {\n      buffered: new TimeRange(0, buffered),\n      seekable\n    };\n    this.#ctx.notify(\"progress\", detail, trigger);\n    const {\n      seeking,\n      realCurrentTime\n    } = this.#ctx.$state;\n    if (seeking() && buffered > realCurrentTime()) {\n      this.#onSeeked(trigger);\n    }\n  }\n  #onSeeked(trigger) {\n    const {\n      paused,\n      realCurrentTime\n    } = this.#ctx.$state;\n    window.clearTimeout(this.#seekingTimer);\n    this.#seekingTimer = window.setTimeout(() => {\n      this.#ctx.notify(\"seeked\", realCurrentTime(), trigger);\n      this.#seekingTimer = -1;\n    }, paused() ? 100 : 0);\n  }\n  #onEnded(trigger) {\n    const {\n      seeking\n    } = this.#ctx.$state;\n    if (seeking()) this.#onSeeked(trigger);\n    this.#ctx.notify(\"pause\", void 0, trigger);\n    this.#ctx.notify(\"end\", void 0, trigger);\n  }\n  #onStateChange(state, trigger) {\n    const {\n        paused,\n        seeking\n      } = this.#ctx.$state,\n      isPlaying = state === YouTubePlayerState.Playing,\n      isBuffering = state === YouTubePlayerState.Buffering,\n      isPendingPlay = this.#isPending(\"playVideo\"),\n      isPlay = paused() && (isBuffering || isPlaying);\n    if (isBuffering) this.#ctx.notify(\"waiting\", void 0, trigger);\n    if (seeking() && isPlaying) {\n      this.#onSeeked(trigger);\n    }\n    if (this.#invalidPlay && isPlaying) {\n      this.pause();\n      this.#invalidPlay = false;\n      this.setMuted(this.#ctx.$state.muted());\n      return;\n    }\n    if (!isPendingPlay && isPlay) {\n      this.#invalidPlay = true;\n      this.setMuted(true);\n      return;\n    }\n    if (isPlay) {\n      this.#getPromise(\"playVideo\")?.resolve();\n      this.#ctx.notify(\"play\", void 0, trigger);\n    }\n    switch (state) {\n      case YouTubePlayerState.Cued:\n        this.#onReady(trigger);\n        break;\n      case YouTubePlayerState.Playing:\n        this.#ctx.notify(\"playing\", void 0, trigger);\n        break;\n      case YouTubePlayerState.Paused:\n        this.#onPause(trigger);\n        break;\n      case YouTubePlayerState.Ended:\n        this.#onEnded(trigger);\n        break;\n    }\n    this.#state = state;\n  }\n  onMessage({\n    info\n  }, event) {\n    if (!info) return;\n    const {\n      title,\n      intrinsicDuration,\n      playbackRate\n    } = this.#ctx.$state;\n    if (isObject(info.videoData) && info.videoData.title !== title()) {\n      this.#ctx.notify(\"title-change\", info.videoData.title, event);\n    }\n    if (isNumber(info.duration) && info.duration !== intrinsicDuration()) {\n      if (isNumber(info.videoLoadedFraction)) {\n        const buffered = info.progressState?.loaded ?? info.videoLoadedFraction * info.duration,\n          seekable = new TimeRange(0, info.duration);\n        this.#onProgress(buffered, seekable, event);\n      }\n      this.#ctx.notify(\"duration-change\", info.duration, event);\n    }\n    if (isNumber(info.playbackRate) && info.playbackRate !== playbackRate()) {\n      this.#ctx.notify(\"rate-change\", info.playbackRate, event);\n    }\n    if (info.progressState) {\n      const {\n        current,\n        seekableStart,\n        seekableEnd,\n        loaded,\n        duration\n      } = info.progressState;\n      this.#onTimeUpdate(current, event);\n      this.#onProgress(loaded, new TimeRange(seekableStart, seekableEnd), event);\n      if (duration !== intrinsicDuration()) {\n        this.#ctx.notify(\"duration-change\", duration, event);\n      }\n    }\n    if (isNumber(info.volume) && isBoolean(info.muted) && !this.#invalidPlay) {\n      const detail = {\n        muted: info.muted,\n        volume: info.volume / 100\n      };\n      this.#ctx.notify(\"volume-change\", detail, event);\n    }\n    if (isNumber(info.playerState) && info.playerState !== this.#state) {\n      this.#onStateChange(info.playerState, event);\n    }\n  }\n  #reset() {\n    this.#state = -1;\n    this.#seekingTimer = -1;\n    this.#invalidPlay = false;\n  }\n  #getPromise(command) {\n    return this.#promises.get(command)?.shift();\n  }\n  #isPending(command) {\n    return Boolean(this.#promises.get(command)?.length);\n  }\n}\nexport { YouTubeProvider };","map":{"version":3,"names":["createScope","signal","effect","isString","deferredPromise","isObject","isNumber","isBoolean","preconnect","TimeRange","EmbedProvider","resolveYouTubeVideoId","YouTubePlayerState","Unstarted","Ended","Playing","Paused","Buffering","Cued","YouTubeProvider","$$PROVIDER_TYPE","scope","ctx","videoId","state","currentSrc","seekingTimer","invalidPlay","promises","Map","constructor","iframe","language","color","cookies","type","getOrigin","setup","watchVideoId","bind","notify","destroy","reset","message","values","reject","clear","play","remote","playFail","#playFail","getPromise","pause","pauseFail","#pauseFail","setMuted","muted","setCurrentTime","time","setVolume","volume","setPlaybackRate","rate","loadSource","src","set","#watchVideoId","buildParams","keyDisabled","$props","playsInline","nativeControls","$state","showControls","autoplay","cc_lang_pref","cc_load_policy","controls","disablekb","enablejsapi","fs","hl","iv_load_policy","mute","playsinline","#remote","command","arg","promise","get","push","postMessage","event","func","args","onLoad","window","setTimeout","onReady","#onReady","trigger","delegate","ready","onPause","#onPause","resolve","onTimeUpdate","#onTimeUpdate","duration","realCurrentTime","hasEnded","boundTime","Math","abs","onProgress","#onProgress","buffered","seekable","detail","seeking","onSeeked","#onSeeked","paused","clearTimeout","onEnded","#onEnded","onStateChange","#onStateChange","isPlaying","isBuffering","isPendingPlay","isPending","isPlay","onMessage","info","title","intrinsicDuration","playbackRate","videoData","videoLoadedFraction","progressState","loaded","current","seekableStart","seekableEnd","playerState","#reset","#getPromise","shift","#isPending","Boolean","length"],"sources":["/Users/wanghley/Workspace/Projects/wanghley.com/node_modules/@vidstack/react/dev/chunks/vidstack-Breph70c.js"],"sourcesContent":["\"use client\"\n\nimport { createScope, signal, effect, isString, deferredPromise, isObject, isNumber, isBoolean } from './vidstack-CH225ns1.js';\nimport { preconnect, TimeRange } from './vidstack-C-WrcxmD.js';\nimport { EmbedProvider } from './vidstack-CFWvJYI8.js';\nimport { resolveYouTubeVideoId } from './vidstack-Zc3I7oOd.js';\nimport 'react';\nimport '@floating-ui/dom';\n\nconst YouTubePlayerState = {\n  Unstarted: -1,\n  Ended: 0,\n  Playing: 1,\n  Paused: 2,\n  Buffering: 3,\n  Cued: 5\n};\n\nclass YouTubeProvider extends EmbedProvider {\n  $$PROVIDER_TYPE = \"YOUTUBE\";\n  scope = createScope();\n  #ctx;\n  #videoId = signal(\"\");\n  #state = -1;\n  #currentSrc = null;\n  #seekingTimer = -1;\n  #invalidPlay = false;\n  #promises = /* @__PURE__ */ new Map();\n  constructor(iframe, ctx) {\n    super(iframe);\n    this.#ctx = ctx;\n  }\n  /**\n   * Sets the player's interface language. The parameter value is an ISO 639-1 two-letter\n   * language code or a fully specified locale. For example, fr and fr-ca are both valid values.\n   * Other language input codes, such as IETF language tags (BCP 47) might also be handled properly.\n   *\n   * The interface language is used for tooltips in the player and also affects the default caption\n   * track. Note that YouTube might select a different caption track language for a particular\n   * user based on the user's individual language preferences and the availability of caption tracks.\n   *\n   * @defaultValue 'en'\n   */\n  language = \"en\";\n  color = \"red\";\n  /**\n   * Whether cookies should be enabled on the embed. This is turned off by default to be\n   * GDPR-compliant.\n   *\n   * @defaultValue `false`\n   */\n  cookies = false;\n  get currentSrc() {\n    return this.#currentSrc;\n  }\n  get type() {\n    return \"youtube\";\n  }\n  get videoId() {\n    return this.#videoId();\n  }\n  preconnect() {\n    preconnect(this.getOrigin());\n  }\n  setup() {\n    super.setup();\n    effect(this.#watchVideoId.bind(this));\n    this.#ctx.notify(\"provider-setup\", this);\n  }\n  destroy() {\n    this.#reset();\n    const message = \"provider destroyed\";\n    for (const promises of this.#promises.values()) {\n      for (const { reject } of promises) reject(message);\n    }\n    this.#promises.clear();\n  }\n  async play() {\n    return this.#remote(\"playVideo\");\n  }\n  #playFail(message) {\n    this.#getPromise(\"playVideo\")?.reject(message);\n  }\n  async pause() {\n    return this.#remote(\"pauseVideo\");\n  }\n  #pauseFail(message) {\n    this.#getPromise(\"pauseVideo\")?.reject(message);\n  }\n  setMuted(muted) {\n    if (muted) this.#remote(\"mute\");\n    else this.#remote(\"unMute\");\n  }\n  setCurrentTime(time) {\n    this.#remote(\"seekTo\", time);\n    this.#ctx.notify(\"seeking\", time);\n  }\n  setVolume(volume) {\n    this.#remote(\"setVolume\", volume * 100);\n  }\n  setPlaybackRate(rate) {\n    this.#remote(\"setPlaybackRate\", rate);\n  }\n  async loadSource(src) {\n    if (!isString(src.src)) {\n      this.#currentSrc = null;\n      this.#videoId.set(\"\");\n      return;\n    }\n    const videoId = resolveYouTubeVideoId(src.src);\n    this.#videoId.set(videoId ?? \"\");\n    this.#currentSrc = src;\n  }\n  getOrigin() {\n    return !this.cookies ? \"https://www.youtube-nocookie.com\" : \"https://www.youtube.com\";\n  }\n  #watchVideoId() {\n    this.#reset();\n    const videoId = this.#videoId();\n    if (!videoId) {\n      this.src.set(\"\");\n      return;\n    }\n    this.src.set(`${this.getOrigin()}/embed/${videoId}`);\n    this.#ctx.notify(\"load-start\");\n  }\n  buildParams() {\n    const { keyDisabled } = this.#ctx.$props, { muted, playsInline, nativeControls } = this.#ctx.$state, showControls = nativeControls();\n    return {\n      autoplay: 0,\n      cc_lang_pref: this.language,\n      cc_load_policy: showControls ? 1 : void 0,\n      color: this.color,\n      controls: showControls ? 1 : 0,\n      disablekb: !showControls || keyDisabled() ? 1 : 0,\n      enablejsapi: 1,\n      fs: 1,\n      hl: this.language,\n      iv_load_policy: showControls ? 1 : 3,\n      mute: muted() ? 1 : 0,\n      playsinline: playsInline() ? 1 : 0\n    };\n  }\n  #remote(command, arg) {\n    let promise = deferredPromise(), promises = this.#promises.get(command);\n    if (!promises) this.#promises.set(command, promises = []);\n    promises.push(promise);\n    this.postMessage({\n      event: \"command\",\n      func: command,\n      args: arg ? [arg] : void 0\n    });\n    return promise.promise;\n  }\n  onLoad() {\n    window.setTimeout(() => this.postMessage({ event: \"listening\" }), 100);\n  }\n  #onReady(trigger) {\n    this.#ctx.notify(\"loaded-metadata\");\n    this.#ctx.notify(\"loaded-data\");\n    this.#ctx.delegate.ready(void 0, trigger);\n  }\n  #onPause(trigger) {\n    this.#getPromise(\"pauseVideo\")?.resolve();\n    this.#ctx.notify(\"pause\", void 0, trigger);\n  }\n  #onTimeUpdate(time, trigger) {\n    const { duration, realCurrentTime } = this.#ctx.$state, hasEnded = this.#state === YouTubePlayerState.Ended, boundTime = hasEnded ? duration() : time;\n    this.#ctx.notify(\"time-change\", boundTime, trigger);\n    if (!hasEnded && Math.abs(boundTime - realCurrentTime()) > 1) {\n      this.#ctx.notify(\"seeking\", boundTime, trigger);\n    }\n  }\n  #onProgress(buffered, seekable, trigger) {\n    const detail = {\n      buffered: new TimeRange(0, buffered),\n      seekable\n    };\n    this.#ctx.notify(\"progress\", detail, trigger);\n    const { seeking, realCurrentTime } = this.#ctx.$state;\n    if (seeking() && buffered > realCurrentTime()) {\n      this.#onSeeked(trigger);\n    }\n  }\n  #onSeeked(trigger) {\n    const { paused, realCurrentTime } = this.#ctx.$state;\n    window.clearTimeout(this.#seekingTimer);\n    this.#seekingTimer = window.setTimeout(\n      () => {\n        this.#ctx.notify(\"seeked\", realCurrentTime(), trigger);\n        this.#seekingTimer = -1;\n      },\n      paused() ? 100 : 0\n    );\n  }\n  #onEnded(trigger) {\n    const { seeking } = this.#ctx.$state;\n    if (seeking()) this.#onSeeked(trigger);\n    this.#ctx.notify(\"pause\", void 0, trigger);\n    this.#ctx.notify(\"end\", void 0, trigger);\n  }\n  #onStateChange(state, trigger) {\n    const { paused, seeking } = this.#ctx.$state, isPlaying = state === YouTubePlayerState.Playing, isBuffering = state === YouTubePlayerState.Buffering, isPendingPlay = this.#isPending(\"playVideo\"), isPlay = paused() && (isBuffering || isPlaying);\n    if (isBuffering) this.#ctx.notify(\"waiting\", void 0, trigger);\n    if (seeking() && isPlaying) {\n      this.#onSeeked(trigger);\n    }\n    if (this.#invalidPlay && isPlaying) {\n      this.pause();\n      this.#invalidPlay = false;\n      this.setMuted(this.#ctx.$state.muted());\n      return;\n    }\n    if (!isPendingPlay && isPlay) {\n      this.#invalidPlay = true;\n      this.setMuted(true);\n      return;\n    }\n    if (isPlay) {\n      this.#getPromise(\"playVideo\")?.resolve();\n      this.#ctx.notify(\"play\", void 0, trigger);\n    }\n    switch (state) {\n      case YouTubePlayerState.Cued:\n        this.#onReady(trigger);\n        break;\n      case YouTubePlayerState.Playing:\n        this.#ctx.notify(\"playing\", void 0, trigger);\n        break;\n      case YouTubePlayerState.Paused:\n        this.#onPause(trigger);\n        break;\n      case YouTubePlayerState.Ended:\n        this.#onEnded(trigger);\n        break;\n    }\n    this.#state = state;\n  }\n  onMessage({ info }, event) {\n    if (!info) return;\n    const { title, intrinsicDuration, playbackRate } = this.#ctx.$state;\n    if (isObject(info.videoData) && info.videoData.title !== title()) {\n      this.#ctx.notify(\"title-change\", info.videoData.title, event);\n    }\n    if (isNumber(info.duration) && info.duration !== intrinsicDuration()) {\n      if (isNumber(info.videoLoadedFraction)) {\n        const buffered = info.progressState?.loaded ?? info.videoLoadedFraction * info.duration, seekable = new TimeRange(0, info.duration);\n        this.#onProgress(buffered, seekable, event);\n      }\n      this.#ctx.notify(\"duration-change\", info.duration, event);\n    }\n    if (isNumber(info.playbackRate) && info.playbackRate !== playbackRate()) {\n      this.#ctx.notify(\"rate-change\", info.playbackRate, event);\n    }\n    if (info.progressState) {\n      const { current, seekableStart, seekableEnd, loaded, duration } = info.progressState;\n      this.#onTimeUpdate(current, event);\n      this.#onProgress(loaded, new TimeRange(seekableStart, seekableEnd), event);\n      if (duration !== intrinsicDuration()) {\n        this.#ctx.notify(\"duration-change\", duration, event);\n      }\n    }\n    if (isNumber(info.volume) && isBoolean(info.muted) && !this.#invalidPlay) {\n      const detail = {\n        muted: info.muted,\n        volume: info.volume / 100\n      };\n      this.#ctx.notify(\"volume-change\", detail, event);\n    }\n    if (isNumber(info.playerState) && info.playerState !== this.#state) {\n      this.#onStateChange(info.playerState, event);\n    }\n  }\n  #reset() {\n    this.#state = -1;\n    this.#seekingTimer = -1;\n    this.#invalidPlay = false;\n  }\n  #getPromise(command) {\n    return this.#promises.get(command)?.shift();\n  }\n  #isPending(command) {\n    return Boolean(this.#promises.get(command)?.length);\n  }\n}\n\nexport { YouTubeProvider };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}