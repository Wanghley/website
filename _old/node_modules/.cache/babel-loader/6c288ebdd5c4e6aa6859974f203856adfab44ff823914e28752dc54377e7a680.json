{"ast":null,"code":"import axios from \"axios\";\nconst baseURL = process.env.REACT_APP_cms_base_url;\nconst apiKey = process.env.REACT_APP_cms_api_token;\nexport async function fetchAllExperiences(limit = 10, sortBy = \"start\", sortOrder = \"desc\") {\n  let allEducations = [];\n  let page = 1;\n  let totalPages;\n  try {\n    do {\n      const response = await axios.get(`${baseURL}/api/experiences?populate=*&sort=${sortBy}:${sortOrder}&pagination[page]=${page}&pagination[pageSize]=${limit}`, {\n        headers: {\n          Authorization: `Bearer ${apiKey}`\n        }\n      });\n      const {\n        data,\n        meta\n      } = response.data;\n      allEducations = allEducations.concat(data);\n      totalPages = meta.pagination.totalPages;\n      page++;\n    } while (page <= totalPages);\n    return allEducations;\n  } catch (error) {\n    console.error(\"Error fetching data:\", error);\n  }\n}\nexport default {\n  fetchAllExperiences\n};","map":{"version":3,"names":["axios","baseURL","process","env","REACT_APP_cms_base_url","apiKey","REACT_APP_cms_api_token","fetchAllExperiences","limit","sortBy","sortOrder","allEducations","page","totalPages","response","get","headers","Authorization","data","meta","concat","pagination","error","console"],"sources":["/Users/wanghley/Workspace/Projects/wanghley.com/src/api/experience.js"],"sourcesContent":["import axios from \"axios\";\n\nconst baseURL = process.env.REACT_APP_cms_base_url;\nconst apiKey = process.env.REACT_APP_cms_api_token;\n\nexport async function fetchAllExperiences(limit = 10, sortBy = \"start\", sortOrder = \"desc\") {\n    let allEducations = [];\n    let page = 1;\n    let totalPages;\n\n    try {\n        do {\n            const response = await axios.get(`${baseURL}/api/experiences?populate=*&sort=${sortBy}:${sortOrder}&pagination[page]=${page}&pagination[pageSize]=${limit}`,\n                {\n                    headers: {\n                        Authorization: `Bearer ${apiKey}`\n                    }\n                }\n            );\n\n            const { data, meta } = response.data;\n            allEducations = allEducations.concat(data);\n\n            totalPages = meta.pagination.totalPages;\n            page++;\n        } while (page <= totalPages);\n        return allEducations;   \n    } catch (error) {\n        console.error(\"Error fetching data:\", error);\n    }\n}\n\n\nexport default { fetchAllExperiences };\n\n\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB;AAClD,MAAMC,MAAM,GAAGH,OAAO,CAACC,GAAG,CAACG,uBAAuB;AAElD,OAAO,eAAeC,mBAAmBA,CAACC,KAAK,GAAG,EAAE,EAAEC,MAAM,GAAG,OAAO,EAAEC,SAAS,GAAG,MAAM,EAAE;EACxF,IAAIC,aAAa,GAAG,EAAE;EACtB,IAAIC,IAAI,GAAG,CAAC;EACZ,IAAIC,UAAU;EAEd,IAAI;IACA,GAAG;MACC,MAAMC,QAAQ,GAAG,MAAMd,KAAK,CAACe,GAAG,CAAC,GAAGd,OAAO,oCAAoCQ,MAAM,IAAIC,SAAS,qBAAqBE,IAAI,yBAAyBJ,KAAK,EAAE,EACvJ;QACIQ,OAAO,EAAE;UACLC,aAAa,EAAE,UAAUZ,MAAM;QACnC;MACJ,CACJ,CAAC;MAED,MAAM;QAAEa,IAAI;QAAEC;MAAK,CAAC,GAAGL,QAAQ,CAACI,IAAI;MACpCP,aAAa,GAAGA,aAAa,CAACS,MAAM,CAACF,IAAI,CAAC;MAE1CL,UAAU,GAAGM,IAAI,CAACE,UAAU,CAACR,UAAU;MACvCD,IAAI,EAAE;IACV,CAAC,QAAQA,IAAI,IAAIC,UAAU;IAC3B,OAAOF,aAAa;EACxB,CAAC,CAAC,OAAOW,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;EAChD;AACJ;AAGA,eAAe;EAAEf;AAAoB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}